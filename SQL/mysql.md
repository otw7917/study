- **SELECT** : 보여주고자 하는 데이터 **IFNULL(column, replaced_value)** as
- **FROM** : 어디 테이블
- **WHERE** : 조건 AND, OR
- **ORDER** BY : 순서[ ..[..조건 우선순위 하이], [조건 우선순위 로우] ] - **ASC**:default, **DESC**

```sql
-- 12세 이하인 여자 환자 목록 출력하기
SELECT PT_NAME,PT_NO,GEND_CD, AGE, IFNULL(TLNO, 'NONE') as TLNO
FROM PATIENT
WHERE AGE<=12 AND GEND_CD="W"
ORDER BY AGE DESC, PT_NAME
```

**DATE**

- DATE_FORMAT(VALUE, FORMAT)
- YEAR, MONTH, DAY, DAYNAME..

```sql
-- 3월에 태어난 여성 회원 목록 출력
SELECT MEMBER_ID, MEMBER_NAME, GENDER, DATE_FORMAT(DATE_OF_BIRTH, "%Y-%m-%d") as DATE_OF_BIRTH
FROM MEMBER_PROFILE
WHERE  MONTH(DATE_OF_BIRTH) = 3 AND TLNO IS NOT NULL AND GENDER="W"
ORDER BY MEMBER_ID
```

---

**GROUP BY** 데이터 그룹화 - column 기준
**HAVING** 데이터 그룹화 조건

```sql
-- 재구매가 일어난 상품과 회원 리스트 구하기
-- https://school.programmers.co.kr/learn/courses/30/lessons/131536
SELECT USER_ID, PRODUCT_ID, SALES_AMOUNT, SUM(SALES_AMOUNT)
FROM ONLINE_SALE
# WHERE USER_ID = 15
GROUP BY USER_ID, PRODUCT_ID
HAVING COUNT(USER_ID) > 1
ORDER BY USER_ID ASC, PRODUCT_ID DESC
-- HAVING 재구매의 경우 행이 2개이상이 될것
```

---

**WHERE IN** 여러값을 비교해야할 경우!
**DATE_FORMAT(COLUMN NAME, FORMAT)** //(PostgreSQL) TO_CHAR

```sql
-- https://school.programmers.co.kr/learn/courses/30/lessons/132203
SELECT DR_NAME, DR_ID,  MCDP_CD ,DATE_FORMAT(HIRE_YMD, '%Y-%m-%d') as HIRE_YMD
FROM DOCTOR
-- WHERE MCDP_CD = 'CS' OR MCDP_CD = 'GS'
WHERE MCDP_CD IN ('CS', 'GS')
ORDER BY HIRE_YMD DESC, DR_NAME ASC
```

**JOIN** defalut -> inner join 공통된 부분만

```sql
-- 조건에 맞는 도서와 저자 리스트 출력하기
SELECT BOOK.BOOK_ID, AUTHOR.AUTHOR_NAME, DATE_FORMAT(BOOK.PUBLISHED_DATE, "%Y-%m-%d") as PUBLISHED_DATE
FROM BOOK
JOIN AUTHOR
ON BOOK.AUTHOR_ID = AUTHOR.AUTHOR_ID
WHERE BOOK.CATEGORY = '경제'
ORDER BY PUBLISHED_DATE
```

**SUM**
**USING** JOIN ON 축약 하려고 쓰는거

- ON PRODUCT.PRODUCT_ID = OFFLINE_SALE.PRODUCT_ID -> USING (PRODUCT_ID)

```sql
-- 상품 별 오프라인 매출 구하기
SELECT PRODUCT.PRODUCT_CODE, SUM(PRODUCT.PRICE * OFFLINE_SALE.SALES_AMOUNT) AS SALES
FROM PRODUCT
JOIN OFFLINE_SALE
-- ON PRODUCT.PRODUCT_ID = OFFLINE_SALE.PRODUCT_ID
USING (PRODUCT_ID)
GROUP BY PRODUCT_CODE
ORDER BY SALES DESC, PRODUCT_CODE ASC
```

**GROUP BY** COUNT(), MAX(), MIN(), SUM(), AVG()

```sql
--성분으로 구분한 아이스크림 총 주문량
SELECT ICECREAM_INFO.INGREDIENT_TYPE, SUM(FIRST_HALF.TOTAL_ORDER) AS TOTAL_ORDER
FROM FIRST_HALF
JOIN ICECREAM_INFO
USING (FLAVOR)
GROUP BY ICECREAM_INFO.INGREDIENT_TYPE
ORDER BY TOTAL_ORDER
```
